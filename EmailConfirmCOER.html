<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Confirmacion COER LIMA</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-sRIl4kxILFvY47J16cr9ZwB07vP4J8+LH7qKQnuqkuIAvNWLzeN8tE5YBujZqJLB" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.13.1/font/bootstrap-icons.min.css">
</head>
<body>
    <div class="container">
    <div class="row">
        <div class="col-md-12 text-center">
            <img width="300" height="200" class="img-fluid" alt="coer_logo"src="img/splashcoer.png">
        </div>
    </div>
    <div class="row">
        <div class="col-md-12 text-center">
            <h1 class="mt-5" id="title">¡Enlace expirado!</h1>
            <h5 id="desc">El enlace de confirmación a expirado, vuelva a enviar otro correo de confirmación</h5>
            <i id="icon" class="bi" style="font-size: 3.5rem"></i>
        </div>
    </div>
</div>

<script>
  function parseHash() {
    const hash = window.location.hash.startsWith('#') ? window.location.hash.slice(1) : '';
    const params = new URLSearchParams(hash);
    return params;
  }

  const p = parseHash();
  const errorCode = p.get('error_code');
  const errorDesc = p.get('error_description');
  
  const icon = document.getElementById('icon');
  const title = document.getElementById('title');
  const desc = document.getElementById('desc');

  if (errorCode) {
    // ERROR (expired, invalid, etc.)
    title.textContent = 'No se pudo confirmar';
    desc.textContent =
      errorCode === 'otp_expired'
        ? 'El enlace expiró. Vuelve a la app y reenvía el correo de confirmación.'
        : (errorDesc || 'Ocurrió un error. Vuelve a intentarlo.');
        icon.classList.add('bi-x-circle-fill', 'text-danger');
  } else {
    // OK
    title.textContent = 'Correo confirmado';
    desc.textContent = 'Listo. Ya puedes volver a la app e iniciar sesión.';
    icon.classList.add('bi-envelope-check-fill', 'text-success');
  }
</script>
</body>
</html>